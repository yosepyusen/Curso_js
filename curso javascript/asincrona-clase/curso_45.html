<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>asincronia en js</h1>
    <script>
        /*  curso 45 ::::Antes de explicar como funciona el modelo de JavaScript es importante entender algunos conceptos:

        Procesamiento Single thread y Multi thread(hilo). // Single thread, un solo hilo y varios hilos, caso js tiene un solo hilo de ejecucion
        Operaciones de CPU y Operaciones de I / O.
        Operaciones Concurrentes y Paralelas.
        Operaciones Bloqueantes y No Bloqueantes.
        Operaciones Síncronas y Asíncronas.*/

        //codigo sincronono bloqueandte, js tiene un lup de un solo hilo
        
        (()=>{//funcion anonima auto ejecutable
            console.log("codigo sincrono");//imprime esto 1ro en consola
            console.log("inicio");//despues esto
            //despues: uno, dos, tres y fin en consola

            function dos(){//aqui declaramos las variables y no ejecutamos
                console.log("dos");
            }
            function uno(){
                console.log("uno");
                dos();
                console.log("tres");
            }
            uno();
            console.log("fin");
        })();

        console.log("**************");
        //codigo asincrono no bloqueante
        (()=>{
            console.log("codigo asincrono");
            //event loop de js 
            //console son bloqueantes
            //setTimeOut son no los bloqueantes, ambos combinan a un cod asincrono
            console.log("inicio");

            function dos(){
                setTimeout(function(){
                  console.log("dos");
                },1000);
            }
            function uno(){
                setTimeout(function(){//al envolver en settimeout, hace que pase a la pila de tareas pero todavia no se ejecuta, settimeout: es un mecanismo de asincronismo
                    //ejem: cuando soli a un db, dependiendo de tu velocidad de internet, del ram, y otros, es el tiempo que va tardar en realizar la peticion
                    //cargar toda la img archivos de un pag web por eso se usa ejem de settimeout
                    //uso de loader es para que el usuario no interactue con algo que real menete no esta cargado completamenete caso como una pagina web
                    console.log("uno");
                }, 0)
                
                dos();
                console.log("tres");
            }
            uno();
            console.log("fin");//es una operacion sincrona
            //primero imprime: tres, despues:fin, despues:uno y al final:dos
            //se imprime:tres, 1ro porque, el uno se paso a la pila de tareas a pesar de tener cero de tiempo
            //por eso imprime despues:fin, y al final ya :uno y :dos, en este ordend e acuerdo al tiempo
        })();

        //link de ver paso a paso de ejecutar js: http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D
        //solo esta pag acepta solo cog egma scipt 5 a menos 
        
        
    </script>

</body>
</html>